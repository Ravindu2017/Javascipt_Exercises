<!DOCTYPE html>
<html>

<head>

</head>

<body>
    <div>
        <p>Le Results:</p>
        <p id="human"></p>
        <p id="machine"></p>
        <p id="result"></p>
    </div>

    <script>
        let user = "d";
        let rounds = 0;
        let computer = ["rock", "paper", "scissor"];
        let win = 0;
        let lose = 0;
        let rnum = Math.floor(Math.random() * 3);
        let response = computer[rnum];
        let human = document.getElementById('human');
        let machine = document.getElementById('machine');
        let result = document.getElementById('result');
        function play(user, computer, response) {
            for (i = 0; i < rounds; i++) {
                user = prompt("What do you pick?").toLowerCase(); rnum = Math.floor(Math.random() * 2);
                response = computer[rnum];
                human.innerHTML += user + " ";
                machine.innerHTML += response + " ";
                for (j = 0; j < 3; j++) {
                    if (response === computer[j] && user === computer[(j + 1) % 3]) {
                        console.log("Round %s: win, computer - %s, you - %s", i + 1, response, user); win++;
                        result.innerHTML += "Win" + " ";
                    } else if
                        (response === computer[j] && user == computer[(j + 2) % 3]) {
                        console.log("Round %s: lose, computer - %s, you - %s", i +
                            1, response, user); lose++;
                        result.innerHTML += "Lose" + " ";
                    } else if (response === computer[j] && user === computer[j]) {
                        console.log("Round %s: tie game, computer - %s, you - %s",
                            i + 1, response, user);
                        result.innerHTML += "Tie" + " ";
                    } else if (!(computer.includes(user))) {
                        console.log("Round %s: try again", i + 1,
                            computer[j], user); i = i - 1;
                        break;
                    }
                }
            } if (win > lose) {
                result.innerHTML += "GG I hate you t. komputeri";
                return "You beat the system";
            }
            else if (lose > win) {
                result.innerHTML += "GG ez";
                return "You suck";
            }
            else {
                result.innerHTML += "GG";
                return "Finished, nobody won";
            }
        };

        let oui = "yes";

        do {

            win = 0;
            lose = 0;
            rounds = parseInt(prompt("How many rounds?"));
            console.log(play(user, computer, response));
            rematch = prompt("Play again?");
        } while (rematch.toLowerCase() === oui);
    </script>
</body>

</html>